{% extends 'base.html' %} {% block content %}

<h2>Manage Product</h2>

<!-- Buttons to toggle forms -->
<button type="button" onclick="toggleForm('product-form')">➕ Add Product</button>
<button type="button" onclick="toggleForm('category-form')">➕ Add Category</button>
<button type="button" onclick="toggleForm('subcategory-form')">➕ Add Subcategory</button>
<button type="button" onclick="toggleForm('variant-form')">➕ Add Variant</button>

<!-- Category Form (Hidden by default) -->
<div id="category-form" style="display: none; margin-top: 10px;">
    <h3>Add Category</h3>
    <form method="POST">
        {% csrf_token %} {{ category_form.as_p }}
        <button type="submit" name="category_submit">Save Category</button>
    </form>
</div>

<!-- Subcategory Form (Hidden by default) -->
<div id="subcategory-form" style="display: none; margin-top: 10px;">
    <h3>Add Subcategory</h3>
    <form method="POST">
        {% csrf_token %} {{ subcategory_form.as_p }}
        <button type="submit" name="subcategory_submit">Save Subcategory</button>
    </form>
</div>

<!-- Variant Form (Hidden by default) -->
<div id="variant-form" style="display: none; margin-top: 10px;">
    <h3>Add Variant</h3>
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %} {{ variant_form.as_p }}
        <button type="submit" name="variant_submit">Save Variant</button>
    </form>
</div>

<!-- Product Form (Visible by default) -->
<div id="product-form" style="margin-top: 20px;">
    <h3>Add Product</h3>
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %} {{ product_form.as_p }}
        <button type="submit" name="product_submit">Add Product</button>
    </form>
</div>

<!-- JavaScript to Show Only One Form at a Time -->
<script>
    function toggleForm(formId) {
        var forms = ['product-form', 'category-form', 'subcategory-form', 'variant-form'];

        forms.forEach(function(id) {
            document.getElementById(id).style.display = (id === formId) ? "block" : "none";
        });
    }
</script>

{% endblock %}